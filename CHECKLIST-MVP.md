# ‚úÖ CHECKLIST MVP - Sabedoria das Escrituras

**Objetivo:** Sistema pronto para lan√ßamento em **2-3 semanas**
**Tempo Total Estimado:** 35 horas
**Prioridade:** Corrigir gaps cr√≠ticos primeiro

---

## üî¥ URGENTE - Fazer PRIMEIRO (Dia 1)

### 1. Remover Credenciais Hardcoded ‚è±Ô∏è 1h
**Arquivo:** `lib/supabase.ts`

**Problema Atual:**
```typescript
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL ||
  'https://aqvqpkmjdtzeoclndwhj.supabase.co'
```

**Solu√ß√£o:**
```typescript
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY

if (!supabaseUrl || !supabaseAnonKey) {
  throw new Error('Vari√°veis Supabase n√£o configuradas')
}
```

**Checklist:**
- [ ] Remover fallback em `lib/supabase.ts`
- [ ] Adicionar valida√ß√£o de vari√°veis obrigat√≥rias
- [ ] Verificar se `.env.local` est√° configurado
- [ ] Testar build local
- [ ] Commit: "Remover credenciais hardcoded - seguran√ßa"

---

### 2. Remover Credenciais dos Scripts ‚è±Ô∏è 30min
**Arquivo:** `scripts/seed-database.js`

**Problema Atual:**
```javascript
const supabaseUrl = 'https://aqvqpkmjdtzeoclndwhj.supabase.co'
const supabaseKey = 'eyJhbGc...'
```

**Solu√ß√£o:**
```javascript
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL
const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY

if (!supabaseUrl || !supabaseKey) {
  throw new Error('Configure vari√°veis de ambiente')
}
```

**Checklist:**
- [ ] Atualizar `scripts/seed-database.js`
- [ ] Atualizar `scripts/migrate-courses-to-supabase.js`
- [ ] Documentar vari√°veis necess√°rias no README
- [ ] Testar execu√ß√£o dos scripts
- [ ] Commit: "Scripts usando vari√°veis de ambiente"

---

## üî¥ CR√çTICO - Fazer em Seguida (Dia 2-3)

### 3. Criar P√°gina "Novo Curso" ‚è±Ô∏è 3h
**Arquivo:** `app/admin/courses/new/page.tsx` (criar)

**O que precisa:**
```tsx
// Formul√°rio com:
- T√≠tulo do curso
- Descri√ß√£o
- Slug (auto-gerado do t√≠tulo)
- Categoria
- Upload de capa
- Autor
- Tempo estimado de leitura
- N√≠vel (iniciante/intermedi√°rio/avan√ßado)
- Tags

// Funcionalidades:
- Valida√ß√£o com Zod
- Preview da capa
- Gera√ß√£o autom√°tica de slug
- Submit para API POST /api/courses
- Redirect para /admin/courses/[id] ap√≥s criar
```

**Checklist:**
- [ ] Criar arquivo `app/admin/courses/new/page.tsx`
- [ ] Copiar estrutura de `app/admin/courses/[id]/page.tsx`
- [ ] Adaptar para modo "cria√ß√£o" (sem dados pr√©-carregados)
- [ ] Testar cria√ß√£o de curso completo
- [ ] Testar upload de capa
- [ ] Verificar se redireciona ap√≥s criar
- [ ] Commit: "Implementar p√°gina de cria√ß√£o de curso"

**Refer√™ncia:** Usar como base `app/admin/courses/[id]/page.tsx`

---

### 4. Completar Gerenciamento de Categorias ‚è±Ô∏è 4h
**Arquivo:** `app/admin/categories/page.tsx` (completar)

**O que falta:**
```tsx
// CRUD Completo:
- [x] Listar categorias (j√° tem)
- [ ] Criar nova categoria
- [ ] Editar categoria
- [ ] Deletar categoria
- [ ] Ordenar categorias
- [ ] Definir categoria pai (subcategorias)
```

**Checklist:**
- [ ] Adicionar modal/form para criar categoria
- [ ] API POST /api/categories (criar se n√£o existe)
- [ ] Adicionar bot√£o de editar por categoria
- [ ] API PUT /api/categories/[id]
- [ ] Adicionar confirma√ß√£o de deletar
- [ ] API DELETE /api/categories/[id]
- [ ] Testar fluxo completo
- [ ] Commit: "CRUD completo de categorias"

---

## üü† IMPORTANTE - Melhorias (Dia 4-5)

### 5. Adicionar Valida√ß√µes de Entrada ‚è±Ô∏è 4h
**Arquivos:** Todas as APIs

**O que precisa:**
```typescript
// Em cada API:
import { z } from 'zod'

const schema = z.object({
  title: z.string().min(3).max(200),
  description: z.string().min(10).max(5000),
  email: z.string().email(),
  // ... outros campos
})

// Validar antes de usar:
const result = schema.safeParse(body)
if (!result.success) {
  return NextResponse.json({
    error: 'Dados inv√°lidos',
    details: result.error.issues
  }, { status: 400 })
}
```

**APIs Priorit√°rias:**
- [ ] `/api/courses` (POST/PUT)
- [ ] `/api/users` (POST/PUT)
- [ ] `/api/highlights` (POST)
- [ ] `/api/summaries` (POST)
- [ ] `/api/categories` (POST/PUT)

**Checklist:**
- [ ] Instalar zod (se n√£o tiver): `pnpm add zod`
- [ ] Criar schemas de valida√ß√£o em `lib/validations/`
- [ ] Adicionar valida√ß√£o em cada API
- [ ] Testar com dados inv√°lidos
- [ ] Commit: "Adicionar valida√ß√µes Zod nas APIs"

---

### 6. Implementar C√°lculo de Streak ‚è±Ô∏è 2h
**Arquivo:** `app/api/gamification/route.ts`

**L√≥gica:**
```typescript
// Calcular streak baseado em last_active_at
function calculateStreak(lastActiveDates: Date[]): number {
  // Ordenar datas
  // Contar dias consecutivos
  // Retornar n√∫mero de dias
}

// Salvar no campo user.current_streak
```

**Checklist:**
- [ ] Criar fun√ß√£o `calculateStreak()` em `lib/utils/gamification.ts`
- [ ] Adicionar campo `current_streak` na tabela users (se n√£o existe)
- [ ] Adicionar campo `longest_streak` para hist√≥rico
- [ ] Atualizar streak em cada login/atividade
- [ ] Mostrar streak no ranking corretamente
- [ ] Testar com diferentes cen√°rios
- [ ] Commit: "Implementar c√°lculo de streak di√°rio"

---

### 7. Salvar Campos de Perfil ‚è±Ô∏è 3h
**Arquivo:** `app/settings/page.tsx` e `app/api/user/profile/route.ts`

**Campos que n√£o salvam:**
- CPF
- Telefone
- Bio
- Data de nascimento
- Endere√ßo

**Checklist:**
- [ ] Adicionar campos faltantes na tabela `users` (SQL)
- [ ] Atualizar schema TypeScript em `types/`
- [ ] Adicionar campos no formul√°rio de perfil
- [ ] Atualizar API PUT `/api/user/profile`
- [ ] Testar salvamento
- [ ] Verificar se persiste ap√≥s reload
- [ ] Commit: "Adicionar campos completos de perfil"

**SQL para adicionar campos:**
```sql
ALTER TABLE users ADD COLUMN IF NOT EXISTS cpf TEXT;
ALTER TABLE users ADD COLUMN IF NOT EXISTS phone TEXT;
ALTER TABLE users ADD COLUMN IF NOT EXISTS bio TEXT;
ALTER TABLE users ADD COLUMN IF NOT EXISTS birth_date DATE;
ALTER TABLE users ADD COLUMN IF NOT EXISTS address JSONB;
```

---

## üü° TESTES E QUALIDADE (Dia 6-7)

### 8. Testes Manuais Completos ‚è±Ô∏è 8h

**Fluxo de Usu√°rio:**
- [ ] Cadastro ‚Üí Confirma√ß√£o de email ‚Üí Login
- [ ] Completar perfil com todos os campos
- [ ] Navegar pelo dashboard
- [ ] Abrir um curso
- [ ] Ler no modo PDF
- [ ] Ler no modo Kindle
- [ ] Criar marca√ß√µes (highlights)
- [ ] Adicionar notas √†s marca√ß√µes
- [ ] Criar resumo
- [ ] Editar resumo
- [ ] Deletar resumo
- [ ] Verificar pontos e n√≠vel
- [ ] Verificar ranking
- [ ] Testar em mobile (responsive)
- [ ] Testar dark mode

**Fluxo de Admin:**
- [ ] Login como admin
- [ ] Criar novo curso
- [ ] Upload de capa
- [ ] Adicionar PDFs ao curso
- [ ] Editar curso existente
- [ ] Criar categoria
- [ ] Editar categoria
- [ ] Deletar categoria
- [ ] Visualizar estat√≠sticas
- [ ] Gerenciar usu√°rios
- [ ] Promover usu√°rio a admin
- [ ] Deletar usu√°rio

**Testes de Edge Cases:**
- [ ] Upload de arquivo muito grande
- [ ] T√≠tulo de curso vazio
- [ ] Email inv√°lido no cadastro
- [ ] Senha fraca
- [ ] Logout e tentar acessar √°rea protegida
- [ ] Criar curso sem imagem
- [ ] Deletar curso com PDFs associados

**Bugs Encontrados:**
- [ ] Documentar todos os bugs em issues do GitHub
- [ ] Priorizar por severidade
- [ ] Corrigir bugs cr√≠ticos

---

## üöÄ DEPLOY E INFRAESTRUTURA (Dia 8-9)

### 9. Configurar Ambiente de Produ√ß√£o ‚è±Ô∏è 5h

**Vercel:**
- [ ] Criar projeto no Vercel (se n√£o existe)
- [ ] Conectar reposit√≥rio GitHub
- [ ] Configurar vari√°veis de ambiente:
  - `NEXT_PUBLIC_SUPABASE_URL`
  - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
  - `SUPABASE_SERVICE_ROLE_KEY`
  - Outras vari√°veis necess√°rias
- [ ] Configurar dom√≠nio customizado (se tiver)
- [ ] Ativar SSL/HTTPS
- [ ] Configurar redirects (se necess√°rio)

**Supabase:**
- [ ] Verificar se projeto est√° em plano adequado
- [ ] Configurar backup autom√°tico
- [ ] Revisar RLS policies
- [ ] Verificar limites de requisi√ß√µes
- [ ] Configurar alertas de uso

**Dom√≠nio:**
- [ ] Registrar dom√≠nio (se n√£o tiver)
- [ ] Configurar DNS para apontar ao Vercel
- [ ] Aguardar propaga√ß√£o (24-48h)
- [ ] Testar acesso pelo dom√≠nio

**Monitoramento:**
- [ ] Ativar Vercel Analytics
- [ ] Configurar alertas de erro
- [ ] Configurar alertas de performance

---

### 10. Deploy Staging e Testes ‚è±Ô∏è 3h

**Staging:**
- [ ] Criar branch `staging`
- [ ] Deploy no Vercel (ambiente staging)
- [ ] URL de staging: `staging.seudominio.com`
- [ ] Testar em staging com dados de teste
- [ ] Convidar 5-10 beta testers
- [ ] Coletar feedback
- [ ] Corrigir bugs encontrados

**Checklist de Staging:**
- [ ] Build passa sem erros
- [ ] Todas as p√°ginas carregam
- [ ] Login/logout funciona
- [ ] Upload de arquivos funciona
- [ ] Gamifica√ß√£o atualiza
- [ ] Email de confirma√ß√£o chega
- [ ] Sem erros no console

---

## üìö DOCUMENTA√á√ÉO (Dia 10)

### 11. Documenta√ß√£o de Usu√°rio ‚è±Ô∏è 5h

**README.md:**
- [ ] Atualizar descri√ß√£o do projeto
- [ ] Adicionar screenshots
- [ ] Listar features principais
- [ ] Adicionar badges (build status, etc)

**Guia de Instala√ß√£o:**
- [ ] Pr√©-requisitos
- [ ] Configura√ß√£o do .env
- [ ] Comandos de instala√ß√£o
- [ ] Comandos de desenvolvimento
- [ ] Comandos de build
- [ ] Solu√ß√£o de problemas comuns

**FAQ para Usu√°rios:**
- [ ] Como criar conta?
- [ ] Como resetar senha?
- [ ] Como funciona a gamifica√ß√£o?
- [ ] Como criar marca√ß√µes?
- [ ] Como criar resumos?

**Termos Legais:**
- [ ] Termos de Uso (b√°sico)
- [ ] Pol√≠tica de Privacidade (LGPD)
- [ ] Sobre cookies

---

## üéØ LAN√áAMENTO (Dia 11-12)

### 12. Deploy em Produ√ß√£o ‚è±Ô∏è 2h

**Pr√©-Deploy:**
- [ ] Merge staging ‚Üí main
- [ ] Tag de vers√£o: `v1.0.0-mvp`
- [ ] Changelog atualizado

**Deploy:**
- [ ] Push para main
- [ ] Aguardar deploy autom√°tico no Vercel
- [ ] Verificar build success
- [ ] Testar URL de produ√ß√£o

**P√≥s-Deploy:**
- [ ] Fazer smoke test completo
- [ ] Verificar analytics funcionando
- [ ] Verificar logs sem erros
- [ ] Backup do banco antes do lan√ßamento

---

### 13. Monitoramento P√≥s-Lan√ßamento ‚è±Ô∏è 1h/dia

**Primeiros 7 Dias:**
- [ ] Verificar logs diariamente
- [ ] Responder feedback de usu√°rios
- [ ] Corrigir bugs urgentes
- [ ] Monitorar performance
- [ ] Monitorar uso de recursos

**M√©tricas para Acompanhar:**
- Usu√°rios cadastrados
- Usu√°rios ativos (DAU)
- Tempo m√©dio de leitura
- Taxa de reten√ß√£o D1, D7
- Cursos mais acessados
- Features mais usadas
- Bugs reportados

---

## üìä RESUMO DO TIMELINE

### Semana 1: Corre√ß√µes Cr√≠ticas (15h)
```
Dia 1-2: Seguran√ßa (credenciais)
Dia 2-3: Criar curso e categorias
Dia 4-5: Valida√ß√µes e melhorias
```

### Semana 2: Testes e Deploy (12h)
```
Dia 6-7: Testes manuais completos
Dia 8-9: Deploy staging
Dia 10: Documenta√ß√£o
```

### Semana 3: Lan√ßamento (8h)
```
Dia 11: Deploy produ√ß√£o
Dia 12-14: Monitoramento
```

**Total:** 35 horas = **2-3 semanas** part-time

---

## ‚úÖ CHECKLIST FINAL PR√â-LAN√áAMENTO

### Seguran√ßa
- [ ] Sem credenciais hardcoded
- [ ] Vari√°veis de ambiente configuradas
- [ ] HTTPS ativo
- [ ] RLS ativo no Supabase
- [ ] Valida√ß√µes de entrada implementadas

### Funcionalidades
- [ ] Criar curso funciona
- [ ] Editar curso funciona
- [ ] CRUD de categorias funciona
- [ ] Sistema de leitura funciona (PDF e Kindle)
- [ ] Marca√ß√µes e resumos funcionam
- [ ] Gamifica√ß√£o atualiza corretamente
- [ ] Ranking mostra dados reais

### Performance
- [ ] Build sem erros
- [ ] Lighthouse score > 80
- [ ] Tempo de carregamento < 3s
- [ ] Responsivo em mobile

### Conte√∫do
- [ ] Pelo menos 5 cursos cadastrados
- [ ] Imagens de capa de qualidade
- [ ] PDFs funcionando
- [ ] Descri√ß√µes completas

### Legal
- [ ] Termos de Uso publicados
- [ ] Pol√≠tica de Privacidade publicada
- [ ] LGPD compliance b√°sico

---

## üéØ CRIT√âRIO DE SUCESSO

### MVP Est√° Pronto Quando:
‚úÖ Usu√°rio consegue criar conta
‚úÖ Usu√°rio consegue fazer login
‚úÖ Usu√°rio consegue acessar cursos
‚úÖ Usu√°rio consegue ler conte√∫do (PDF ou Kindle)
‚úÖ Usu√°rio consegue criar marca√ß√µes
‚úÖ Usu√°rio consegue criar resumos
‚úÖ Gamifica√ß√£o atualiza automaticamente
‚úÖ Admin consegue criar novos cursos
‚úÖ Admin consegue gerenciar categorias
‚úÖ Sistema est√° em produ√ß√£o com HTTPS
‚úÖ Sem bugs cr√≠ticos conhecidos

---

## üìû PR√ìXIMOS PASSOS AMANH√É

**Come√ßar por aqui:**

1. **09:00 - 10:00** ‚Üí Remover credenciais hardcoded
2. **10:00 - 10:30** ‚Üí Remover credenciais dos scripts
3. **10:30 - 11:00** ‚Üí Coffee break + git commit
4. **11:00 - 14:00** ‚Üí Criar p√°gina "Novo Curso"
5. **14:00 - 15:00** ‚Üí Almo√ßo
6. **15:00 - 19:00** ‚Üí Completar gerenciamento de categorias
7. **19:00** ‚Üí Review do dia + commit

**Objetivo do Dia 1:** Completar 2 gaps cr√≠ticos de seguran√ßa + 1 gap de funcionalidade

---

**Criado em:** 25 de Outubro de 2025
**√öltima atualiza√ß√£o:** 25 de Outubro de 2025
**Respons√°vel:** Equipe de Desenvolvimento
**Prazo:** 15 de Novembro de 2025 (3 semanas)

---

## üí° DICAS

- ‚úÖ **Commite frequentemente** - Pequenos commits s√£o mais f√°ceis de revisar
- ‚úÖ **Teste cada feature** - N√£o acumule bugs para o final
- ‚úÖ **Pe√ßa feedback cedo** - Beta testers s√£o valiosos
- ‚úÖ **Documente enquanto faz** - N√£o deixe para depois
- ‚úÖ **Celebre pequenas vit√≥rias** - Cada checkbox marcado √© progresso

**Lembre-se:** Shipping > Perfei√ß√£o

**Bom trabalho! üöÄ**
